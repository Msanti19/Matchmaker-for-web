<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Matthew's Matchmaker</title>
	<link rel="stylesheet" href="matchmaker.css">
</head>

<body>
	<h1>Matthew's Matchmaker</h1>
	<p>Welcome to my matchmaker! Answer the questions truthfully and click calculate at the end of the quiz to see if you and I would make a good pair!</p>

	<div style="text-align: center;">
	<label>Personality is more important than looks.</label><br />
	<select id="q1">
		<option value="5">Strongly Agree</option>
		<option value="4">Agree</option>
		<option value="3">Neutral</option>
		<option value="2">Disagree</option>
		<option value="1">Strongly Disagree</option>
	</select>
	<br /><br />

	<label>R&B is the best music genre.</label><br />
	<select id="q2">
		<option value="5">Strongly Agree</option>
		<option value="4">Agree</option>
		<option value="3">Neutral</option>
		<option value="2">Disagree</option>
		<option value="1">Strongly Disagree</option>
	</select>
    <br /><br />

    <label>Cats are better than dogs.</label><br />
	<select id="q3">
		<option value="5">Strongly Agree</option>
		<option value="4">Agree</option>
		<option value="3">Neutral</option>
		<option value="2">Disagree</option>
		<option value="1">Strongly Disagree</option>
	</select>
	<br /><br />

	<label>Basketball is the best sport.</label><br />
	<select id="q4">
		<option value="5">Strongly Agree</option>
		<option value="4">Agree</option>
		<option value="3">Neutral</option>
		<option value="2">Disagree</option>
		<option value="1">Strongly Disagree</option>
	</select>
    <br /><br />

    <label>Late night drives are a vibe.</label><br />
	<select id="q5">
		<option value="5">Strongly Agree</option>
		<option value="4">Agree</option>
		<option value="3">Neutral</option>
		<option value="2">Disagree</option>
		<option value="1">Strongly Disagree</option>
	</select>
	<br /><br />

	<br /><br /><br />
	<button onclick="calculateCompatibility()">Calculate Compatibility</button>
	<p id="compatibility"></p>
	<p id="Message"></p>
	</div>

<script>
console.log("Starting Matchmaker...");

function calculateCompatibility() {
	console.log("calculateCompatibility()");

	const FINAL_COMMENT_GREAT = "We can definitely be best friends and vibe"
	const FINAL_COMMENT_GOOD = "We can be friends for sure but it probably won't be more than that"
	const FINAL_COMMENT_BAD = "This probably won't work but you never know"


    const DESIRED_RESPONSE = [
                    5, /* Strongly Agree */
                    3, /* Neutral */
                    1, /* Strongly Disagree*/
                    4, /* Agree */
                    5, /* Strongly Agree */
                ]

                const MAX_SCORE = 25;

    let question1Response = document.getElementById("q1").selectedOptions[0].value;
	let question2Response = document.getElementById("q2").selectedOptions[0].value;
	let question3Response = document.getElementById("q3").selectedOptions[0].value;
	let question4Response = document.getElementById("q4").selectedOptions[0].value;
	let question5Response = document.getElementById("q5").selectedOptions[0].value;

    console.log("Question 1 Answers:")
	console.log(document.getElementById("q1").selectedOptions[0].text);
	console.log(document.getElementById("q1").selectedOptions[0].value);
	console.log(question1Response);

	console.log("Question 2 Answers:");
	console.log(document.getElementById("q2").selectedOptions[0].text);
	console.log(document.getElementById("q2").selectedOptions[0].value);
	console.log(question2Response);

	console.log("Question 3 Answers:");
	console.log(document.getElementById("q3").selectedOptions[0].text);
	console.log(document.getElementById("q3").selectedOptions[0].value);
	console.log(question3Response);

    console.log("Question 4 Answers:");
	console.log(document.getElementById("q4").selectedOptions[0].text);
	console.log(document.getElementById("q4").selectedOptions[0].value);
	console.log(question4Response);

    console.log("Question 5 Answers:");
	console.log(document.getElementById("q5").selectedOptions[0].text);
	console.log(document.getElementById("q5").selectedOptions[0].value);
	console.log(question5Response);

    let question1Compatibility = 5 - Math.abs(question1Response - DESIRED_RESPONSE[0]);
	let question2Compatibility = 5 - Math.abs(question2Response - DESIRED_RESPONSE[1]);
	let question3Compatibility = 5 - Math.abs(question3Response - DESIRED_RESPONSE[2]);
    let question4Compatibility = 5 - Math.abs(question4Response - DESIRED_RESPONSE[3]);
	let question5Compatibility = 5 - Math.abs(question5Response - DESIRED_RESPONSE[4]);

    console.log("c1="+question1Compatibility);
	console.log("c2="+question2Compatibility);
	console.log("c3="+question3Compatibility);
    console.log("c4="+question4Compatibility);
	console.log("c5="+question5Compatibility);

    let totalCompatibility = question1Compatibility + question2Compatibility + question3Compatibility + question4Compatibility + question5Compatibility;

    totalCompatibility *= 100 / MAX_SCORE;
	totalCompatibility = Math.round(totalCompatibility);
	console.log("tc="+ totalCompatibility);



	document.getElementById("compatibility").innerHTML = "Your compatibility with me is: " 
	console.log("TotalCompatibility="+totalCompatibility);

	if (totalCompatibility < 50) {
		console.log(FINAL_COMMENT_BAD);
		document.getElementById("Message").innerHTML = FINAL_COMMENT_BAD;
	} else if (totalCompatibility < 70) {
		console.log(FINAL_COMMENT_GOOD);
		document.getElementById("Message").innerHTML = FINAL_COMMENT_GOOD;
	} else {
		console.log(FINAL_COMMENT_GREAT);
		document.getElementById("Message").innerHTML = FINAL_COMMENT_GREAT;
	}
}
    </script>
</body>
</html>